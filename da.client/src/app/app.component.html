<div class="container">
  <header>
    <h1>Dokumenty</h1>
    <nav>
      <ul>
        <li [ngClass]="{ active: currentTab === 'list' }" (click)="setTab('list')">Lista Dokumentów</li>
        <li [ngClass]="{ active: currentTab === 'create' }" (click)="setTab('create')">Tworzenie Dokumentu</li>
        <li [ngClass]="{ active: currentTab === 'view' }" (click)="setTab('view')">Podgląd Dokumentu</li>
      </ul>
    </nav>
  </header>

  <main>
    <div *ngIf="currentTab === 'list'">
      <h2>Lista Dokumentów</h2>
      <ul>
        <li *ngFor="let dokument of dokumenty"
            [class.selected]="selectedDokumentId === dokument.id"
            (click)="selectDokument(dokument)">
          {{ dokument.typ }} - {{ dokument.data }}
          <button (click)="viewDokument(dokument, $event)">Podgląd</button>
        </li>
      </ul>
    </div>

  <div *ngIf="currentTab === 'create'">
  <h2>Tworzenie Dokumentu</h2>
  <form (ngSubmit)="zapiszDokument()">
    <label for="type">Typ dokumentu:</label>
    <select id="type" [(ngModel)]="newDokument.typ" name="type" required>
      <option value="Zakupu: Faktura zaliczkowa">Faktura zaliczkowa</option>
      <option value="Zakupu: Paragon">Paragon</option>
      <option value="Zakupu: Faktura zakupu">Faktura zakupu</option>
      <option value="Sprzedaży: Faktura sprzedaży z paragonu">Faktura sprzedaży z paragonu</option>
      <option value="Sprzedaży: Faktura sprzedaży">Faktura sprzedaży</option>
    </select>

    <h3>Kontrahent</h3>
    <label for="nazwa">Nazwa:</label>
    <input id="nazwa" [(ngModel)]="newKontrahent.nazwa" name="nazwa" required>
    
    <label for="adres">Adres:</label>
    <input id="adres" [(ngModel)]="newKontrahent.adres" name="adres" required>

    <label for="nip">NIP:</label>
    <input id="nip" [(ngModel)]="newKontrahent.nip" name="nip" required>

    <button type="submit">Zapisz</button>
  </form>
</div>


    <div *ngIf="currentTab === 'view'">
      <h2>Podgląd Dokumentu</h2>
      <div *ngIf="selectedDokument">
        <h2>Dokument</h2>
        <p>Typ: {{ selectedDokument.typ }}</p>
        <p>Data: {{ selectedDokument.data }}</p>

        <div *ngIf="kontrahenci.length > 0">
          <h3>Kontahenci:</h3>
          <ul>
            <li *ngFor="let kontrahent of kontrahenci">
              {{ kontrahent.nazwa }} ,  {{ kontrahent.adres }} ,  NIP: {{ kontrahent.nip }}
            </li>
          </ul>
        </div>

        <h3>Elementy Documentu</h3>
        <ul>
          <li *ngFor="let element of dokumentElements">
            {{ element.nazwaProduktu }} - {{ element.ilosc }} szt.
          </li>
        </ul>
      </div>

    </div>
  </main>
</div>
